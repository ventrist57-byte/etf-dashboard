<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ETF Portfolio Allocation Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #f4f7fb;
      margin: 0;
      padding: 20px;
    }
    .card {
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      padding: 20px 24px;
      margin-bottom: 20px;
    }
    .header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
      gap: 12px;
      flex-wrap: wrap;
    }
    .title {
      font-size: 24px;
      font-weight: 700;
      color: #1f3b57;
    }
    .date-label {
      font-size: 13px;
      color: #555;
    }
    .mode-badge {
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 700;
      color: #ffffff;
      text-transform: uppercase;
    }
    .mode-badge.aggressive { background-color: #e74c3c; }
    .mode-badge.neutral { background-color: #3498db; }
    .mode-badge.defensive { background-color: #27ae60; }

    .score-label {            /* >>> NEW: 상단 점수 텍스트 */
      font-size: 12px;
      color: #555;
      margin-left: 8px;
    }

    h3 {
      font-size: 16px;
      margin: 0 0 10px 0;
      color: #1f3b57;
    }
    .ind-list p {
      margin: 2px 0;
      font-size: 13px;
    }
    .summary-bar {
      padding: 10px 14px;
      font-size: 13px;
      background-color: #eef3ff;
      border-radius: 4px;
      margin-top: 10px;
    }

    .layout-row {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
    }
    .layout-col {
      flex: 1 1 320px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    th, td {
      padding: 8px 10px;
      border-bottom: 1px solid #eef0f4;
      text-align: left;
    }
    th {
      background-color: #f5f6fa;
      font-weight: 600;
      font-size: 12px;
      color: #4b5563;
    }
    tr:last-child td {
      border-bottom: none;
    }

    .chart-container {
      position: relative;
      width: 100%;
      height: 260px;
    }

    .grid-5 {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }
    .indicator-card h4 {
      margin: 0 0 8px 0;
      font-size: 14px;
      color: #1f3b57;
    }
    .indicator-card .chart-container {
      height: 180px;
    }

    @media (max-width: 768px) {
      .layout-row {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <!-- 상단 카드 -->
  <div class="card">
    <div class="header-row">
      <div class="date-label">Date: 2025-12-07</div>
      <div class="title">ETF Portfolio Allocation</div>
      <div style="display:flex; align-items:center; gap:8px;">
        <span class="mode-badge neutral">NEUTRAL</span>
        <span class="score-label"></span>  <!-- >>> NEW -->
      </div>
    </div>

    <div class="layout-row">
      <div class="layout-col">
        <h3>Market Indicators (Today)</h3>
        <div class="ind-list">
          <p>VIX (pt): 15.41</p>
          <p>US 10Y Yield (^TNX, %): 4.14</p>
          <p>Dollar Index (DXY, pt): 28.08</p>
          <p>Gold Futures (GC=F, USD): 4212.90</p>
          <p>US 10Y Futures (ZN=F, pt): 112.52</p>
        </div>
      </div>
      <div class="layout-col">
        <h3>Allocation Distribution</h3>
        <div class="chart-container">
          <canvas id="allocationPie"></canvas>
        </div>
      </div>
    </div>

    <div class="summary-bar">
      VIX 15.41, US10Y 4.14%, DXY 28.08, Gold 4212.90, UST 112.52 기준으로 위험 점수는 55점, 모드는 neutral로 평가했습니다.
    </div>
  </div>

  <!-- Detailed Allocations -->
  <div class="card">
    <h3>Detailed Allocations</h3>
    <table>
      <thead>
        <tr>
          <th>ETF NAME</th>
          <th>WEIGHT (%)</th>
          <th>REASON</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>KODEX S&P500</td>
          <td>25.00</td>
          <td>중립 25.0%와 동일 비중. 역할: 미국 대형주 코어.</td>
        </tr>
        <tr>
          <td>KODEX China CSI300</td>
          <td>10.00</td>
          <td>중립 10.0%와 동일 비중. 역할: 중국/신흥국 분산.</td>
        </tr>
        <tr>
          <td>KIWOOM 200TR</td>
          <td>20.00</td>
          <td>중립 20.0%와 동일 비중. 역할: 국내 대형주 코어.</td>
        </tr>
        <tr>
          <td>TIGER US Treasury 10Y Futures</td>
          <td>15.00</td>
          <td>중립 15.0%와 동일 비중. 역할: 미국 중장기 국채(안정자산).</td>
        </tr>
        <tr>
          <td>ACE Korea Treasury 10Y</td>
          <td>15.00</td>
          <td>중립 15.0%와 동일 비중. 역할: 국내 중장기 국채(안정자산).</td>
        </tr>
        <tr>
          <td>ACE KRX Gold Spot</td>
          <td>10.00</td>
          <td>중립 10.0%와 동일 비중. 역할: 골드(인플레이션·리스크 헤지).</td>
        </tr>
        <tr>
          <td>TIGER CD Rate Investment KIS</td>
          <td>5.00</td>
          <td>중립 5.0%와 동일 비중. 역할: 단기 금리·현금성 자산.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- 최근 12개월 (월초 포지션) -->
  <div class="card">
    <h3>최근 12개월 (월초 포지션)</h3>
    <table>
      <thead>
        <tr>
          <th>Month</th>
          <th>Date</th>
          <th>Mode</th>
          <th>Score</th>  <!-- >>> NEW -->
          <th>VIX (pt)</th>
          <th>US10Y (%)</th>
          <th>DXY (pt)</th>
          <th>Gold (USD)</th>
          <th>UST 10Y Futures (pt)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2025-01</td>
          <td>2025-01-02</td>
          <td>defensive</td>
          <td>70</td>  <!-- >>> NEW -->
          <td>17.93</td>
          <td>4.57</td>
          <td>109.39</td>
          <td>2658.90</td>
          <td>108.81</td>
        </tr>
        <tr>
          <td>2025-02</td>
          <td>2025-02-03</td>
          <td>defensive</td>
          <td>70</td>  <!-- >>> NEW -->
          <td>18.62</td>
          <td>4.54</td>
          <td>108.99</td>
          <td>2833.90</td>
          <td>108.95</td>
        </tr>
        <tr>
          <td>2025-03</td>
          <td>2025-03-03</td>
          <td>defensive</td>
          <td>75</td>  <!-- >>> NEW -->
          <td>22.78</td>
          <td>4.18</td>
          <td>106.75</td>
          <td>2890.20</td>
          <td>111.38</td>
        </tr>
        <tr>
          <td>2025-04</td>
          <td>2025-04-01</td>
          <td>defensive</td>
          <td>70</td>  <!-- >>> NEW -->
          <td>21.77</td>
          <td>4.16</td>
          <td>104.26</td>
          <td>3118.90</td>
          <td>111.78</td>
        </tr>
        <tr>
          <td>2025-05</td>
          <td>2025-05-01</td>
          <td>defensive</td>
          <td>70</td>  <!-- >>> NEW -->
          <td>24.60</td>
          <td>4.23</td>
          <td>100.25</td>
          <td>3210.00</td>
          <td>111.86</td>
        </tr>
        <tr>
          <td>2025-06</td>
          <td>2025-06-02</td>
          <td>neutral</td>
          <td>55</td>  <!-- >>> NEW -->
          <td>18.36</td>
          <td>4.46</td>
          <td>98.70</td>
          <td>3370.60</td>
          <td>110.47</td>
        </tr>
        <tr>
          <td>2025-07</td>
          <td>2025-07-01</td>
          <td>neutral</td>
          <td>55</td>  <!-- >>> NEW -->
          <td>16.83</td>
          <td>4.25</td>
          <td>96.82</td>
          <td>3336.70</td>
          <td>111.86</td>
        </tr>
        <tr>
          <td>2025-08</td>
          <td>2025-08-01</td>
          <td>defensive</td>
          <td>65</td>  <!-- >>> NEW -->
          <td>20.38</td>
          <td>4.22</td>
          <td>98.69</td>
          <td>3347.70</td>
          <td>112.20</td>
        </tr>
        <tr>
          <td>2025-09</td>
          <td>2025-09-02</td>
          <td>neutral</td>
          <td>55</td>  <!-- >>> NEW -->
          <td>17.17</td>
          <td>4.28</td>
          <td>98.40</td>
          <td>3549.40</td>
          <td>112.14</td>
        </tr>
        <tr>
          <td>2025-10</td>
          <td>2025-10-01</td>
          <td>neutral</td>
          <td>55</td>  <!-- >>> NEW -->
          <td>16.29</td>
          <td>4.11</td>
          <td>97.71</td>
          <td>3867.50</td>
          <td>112.84</td>
        </tr>
        <tr>
          <td>2025-11</td>
          <td>2025-11-03</td>
          <td>neutral</td>
          <td>55</td>  <!-- >>> NEW -->
          <td>17.17</td>
          <td>4.11</td>
          <td>99.87</td>
          <td>4000.30</td>
          <td>112.67</td>
        </tr>
        <tr>
          <td>2025-12</td>
          <td>2025-12-01</td>
          <td>neutral</td>
          <td>55</td>  <!-- >>> NEW -->
          <td>17.24</td>
          <td>4.10</td>
          <td>99.41</td>
          <td>4239.30</td>
          <td>112.94</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Market Indicators - 최근 1년 시계열 (지표별 5개 차트) -->
  <div class="card">
    <h3>Market Indicators - 최근 1년 시계열</h3>
    <div class="grid-5">
      <div class="indicator-card">
        <h4>VIX (pt)</h4>
        <div class="chart-container">
          <canvas id="vixChart"></canvas>
        </div>
      </div>
      <div class="indicator-card">
        <h4>US10Y (%)</h4>
        <div class="chart-container">
          <canvas id="us10yChart"></canvas>
        </div>
      </div>
      <div class="indicator-card">
        <h4>DXY (pt)</h4>
        <div class="chart-container">
          <canvas id="dxyChart"></canvas>
        </div>
      </div>
      <div class="indicator-card">
        <h4>Gold (USD)</h4>
        <div class="chart-container">
          <canvas id="goldChart"></canvas>
        </div>
      </div>
      <div class="indicator-card">
        <h4>UST 10Y Futures (pt)</h4>
        <div class="chart-container">
          <canvas id="ustChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- >>> NEW: 점수 계산 규칙 안내 카드 -->
  <div class="card">
    <h3>위험 점수(Risk Score) 계산 규칙</h3>
    <p style="font-size:13px; margin-bottom:8px;">
      기준점수는 <b>50점</b>이며, 아래 조건에 따라 가감 후 최종 점수를 <b>0~100점</b> 범위로 제한합니다.
      점수 구간에 따라 전략 모드가 결정됩니다.
    </p>
    <ul style="font-size:13px; line-height:1.5;">
      <li><b>VIX</b>
        <ul>
          <li>VIX &lt; 15 → score -= 10</li>
          <li>15 ≤ VIX ≤ 20 → score += 10</li>
          <li>VIX &gt; 20 → score += 20</li>
        </ul>
      </li>
      <li><b>미국 10Y 금리</b>
        <ul>
          <li>change_bp &gt; +5 → score += 5 (금리 급등 = 위험 ↑)</li>
        </ul>
      </li>
      <li><b>DXY</b>
        <ul>
          <li>change_pct &gt; +0.3% → score += 10 (달러 강세 = 위험 ↑)</li>
        </ul>
      </li>
      <li><b>주식 모멘텀 (S&P500)</b>
        <ul>
          <li>trend == "up" → score -= 10</li>
          <li>trend == "down" → score += 10</li>
        </ul>
      </li>
      <li><b>금/국채(안전자산)</b>
        <ul>
          <li>금 또는 국채 가격 상승 → 위험회피 수요 ↑ → score += 10</li>
        </ul>
      </li>
      <li><b>최종 점수 구간에 따른 전략 모드</b>
        <ul>
          <li>0 ~ 30점: Aggressive (공격적)</li>
          <li>31 ~ 60점: Neutral (중립)</li>
          <li>61 ~ 100점: Defensive (방어적)</li>
        </ul>
      </li>
    </ul>
  </div>

  <script>
    // Pie chart 데이터
    const pieLabels = ["KODEX S&P500", "KODEX China CSI300", "KIWOOM 200TR", "TIGER US Treasury 10Y Futures", "ACE Korea Treasury 10Y", "ACE KRX Gold Spot", "TIGER CD Rate Investment KIS"];
    const pieWeights = [25.0, 10.0, 20.0, 15.0, 15.0, 10.0, 5.0];

    const pieCtx = document.getElementById('allocationPie').getContext('2d');
    new Chart(pieCtx, {
      type: 'pie',
      data: {
        labels: pieLabels,
        datasets: [{
          data: pieWeights,
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'right'
          }
        }
      }
    });

    // Market Indicators 데이터
    const indLabels = ["2025-01-02", "2025-01-03", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-20", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-13", "2025-10-14", "2025-10-15", "2025-10-16", "2025-10-17", "2025-10-20", "2025-10-21", "2025-10-22", "2025-10-23", "2025-10-24", "2025-10-27", "2025-10-28", "2025-10-29", "2025-10-30", "2025-10-31", "2025-11-03", "2025-11-04", "2025-11-05", "2025-11-06", "2025-11-07", "2025-11-10", "2025-11-11", "2025-11-12", "2025-11-13", "2025-11-14", "2025-11-17", "2025-11-18", "2025-11-19", "2025-11-20", "2025-11-21", "2025-11-24", "2025-11-25", "2025-11-26", "2025-11-28", "2025-12-01", "2025-12-02", "2025-12-03", "2025-12-04", "2025-12-05", "2025-12-07"];
    const vixData   = [17.93000030517578, 16.12999916, 16.040000915527344, 17.81999969482422, 17.700000762939453, 0.0, 19.540000915527344, 19.190000534057617, 18.709999084472656, 16.12000084, 16.600000381469727, 15.970000267028809, 15.06000042, 15.100000381469727, 15.020000457763672, 14.850000381469727, 17.899999618530273, 16.40999984741211, 16.559999465942383, 15.84000015258789, 16.43000030517578, 18.62000084, 17.209999084472656, 15.770000457763672, 15.5, 16.540000915527344, 15.81000042, 16.020000457763672, 15.890000343322754, 15.100000381469727, 14.770000457763672, 15.350000381469727, 15.270000457763672, 15.65999984741211, 18.209999084472656, 18.979999542236328, 19.43000030517578, 19.100000381469727, 21.12999916, 19.62999916, 22.780000686645508, 23.510000228881836, 21.93000030517578, 24.87000084, 23.37000084, 27.860000610351562, 26.920000076293945, 24.229999542236328, 24.65999984741211, 21.770000457763672, 20.510000228881836, 21.700000762939453, 19.899999618530273, 19.799999237060547, 19.280000686645508, 17.479999542236328, 17.149999618530273, 18.329999923706055, 18.690000534057617, 21.649999618530273, 22.280000686645508, 21.770000457763672, 21.510000228881836, 30.020000457763672, 45.310001373291016, 46.97999954223633, 52.33000183105469, 33.619998931884766, 40.720001220703125, 37.560001373291016, 30.889999389648438, 30.12000084, 32.63999938964844, 29.649999618530273, 33.81999969482422, 30.56999969482422, 28.450000762939453, 26.469999313354492, 24.84000015258789, 25.149999618530273, 24.170000076293945, 24.700000762939453, 24.600000381469727, 22.68000030517578, 23.639999389648438, 24.760000228881836, 23.549999237060547, 22.479999542236328, 21.899999618530273, 18.389999389648438, 18.219999313354492, 18.62000084, 17.829999923706055, 17.239999771118164, 18.139999389648438, 18.09000015258789, 20.87000084, 20.280000686645508, 22.290000915527344, 0.0, 18.959999084472656, 19.309999465942383, 19.18000030517578, 18.56999969482422, 18.360000610351562, 17.690000534057617, 17.610000610351562, 18.479999542236328, 16.770000457763672, 17.15999984741211, 16.950000762939453, 17.260000228881836, 18.020000457763672, 20.81999969482422, 19.110000610351562, 21.600000381469727, 20.139999389648438, 20.62000084, 19.829999923706055, 17.479999542236328, 16.760000228881836, 16.59000015258789, 16.31999969482422, 16.729999542236328, 16.829999923706055, 16.639999389648438, 16.37999916, 0.0, 17.790000915527344, 16.809999465942383, 15.93999958, 15.779999732971191, 16.399999618530273, 17.200000762939453, 17.37999916, 17.15999984741211, 16.520000457763672, 16.40999984741211, 16.649999618530273, 16.5, 15.369999885559082, 15.390000343322754, 14.930000305175781, 15.029999732971191, 15.979999542236328, 15.479999542236328, 16.719999313354492, 20.37999916, 17.520000457763672, 17.850000381469727, 16.770000457763672, 16.56999969482422, 15.149999618530273, 16.25, 14.729999542236328, 14.489999771118164, 14.829999923706055, 15.09000015258789, 14.989999771118164, 15.569999694824219, 15.68999958, 16.600000381469727, 14.220000267028809, 14.789999961853027, 14.619999885559082, 14.850000381469727, 14.430000305175781, 15.359999656677246, 17.170000076293945, 16.350000381469727, 15.300000190734863, 15.180000305175781, 15.109999656677246, 15.039999961853027, 15.350000381469727, 14.710000038146973, 14.760000228881836, 15.68999958, 16.360000610351562, 15.720000267028809, 15.699999809265137, 15.449999809265137, 16.100000381469727, 16.639999389648438, 16.18000030517578, 16.739999771118164, 15.289999961853027, 16.12000084, 16.280000686645508, 16.290000915527344, 16.62999916, 16.649999618530273, 16.37000084, 17.239999771118164, 16.299999237060547, 16.43000030517578, 21.65999984741211, 19.030000686645508, 20.809999465942383, 20.639999389648438, 25.309999465942383, 20.780000686645508, 18.229999542236328, 17.87000084, 18.600000381469727, 17.299999237060547, 16.37000084, 15.789999961853027, 16.420000076293945, 16.920000076293945, 16.90999984741211, 17.440000534057617, 17.170000076293945, 19.0, 18.010000228881836, 19.5, 19.079999923706055, 17.600000381469727, 17.280000686645508, 17.510000228881836, 20.0, 19.829999923706055, 22.37999916, 24.690000534057617, 23.65999984741211, 26.420000076293945, 23.43000030517578, 20.520000457763672, 18.559999465942383, 17.190000534057617, 16.350000381469727, 17.239999771118164, 16.59000015258789, 16.079999923706055, 15.779999732971191, 15.40999984741211, 15.40999984741211];
    const us10yData = [4.574999809265137, 4.5960001945495605, 4.618000030517578, 4.683000087738037, 4.692999839782715, 0.0, 4.776000022888184, 4.802999973297119, 4.788000106811523, 4.6529998779296875, 4.605999946594238, 4.609000205993652, 4.573999881744385, 4.598999977111816, 4.638000011444092, 4.625999927520752, 4.5279998779296875, 4.551000118255615, 4.554999828338623, 4.512000084, 4.568999767303467, 4.543000221252441, 4.513000011444092, 4.421999931335449, 4.440000057220459, 4.486999988555908, 4.493000030517578, 4.5370001792907715, 4.637000084, 4.525000095367432, 4.4720001220703125, 4.544000148773193, 4.534999847412109, 4.5, 4.420000076293945, 4.393000126, 4.297999858856201, 4.249000072479248, 4.284999847412109, 4.230999946594238, 4.179999828338623, 4.210000038146973, 4.264999866485596, 4.285999774932861, 4.316999912261963, 4.2129998207092285, 4.288000106811523, 4.317999839782715, 4.274000168, 4.308000087738037, 4.306000232696533, 4.281000137329102, 4.256000042, 4.232999801635742, 4.251999855041504, 4.330999851226807, 4.307000160217285, 4.3379998207092285, 4.368999958, 4.255000114440918, 4.245999813079834, 4.156000137329102, 4.196000099182129, 4.054999828338623, 3.984999895095825, 4.15500021, 4.262000084, 4.400000095367432, 4.394000053405762, 4.493000030517578, 4.363999843597412, 4.322999954223633, 4.2789998054504395, 4.333000183105469, 4.40500021, 4.388999938964844, 4.387000084, 4.304999828338623, 4.265999794006348, 4.216000080108643, 4.172999858856201, 4.177000045776367, 4.230999946594238, 4.322000026702881, 4.3429999351501465, 4.308000087738037, 4.275000095367432, 4.373000144958496, 4.375, 4.456999778747559, 4.499000072479248, 4.5279998779296875, 4.454999923706055, 4.440999984741211, 4.474999904632568, 4.480999946594238, 4.5960001945495605, 4.552999973297119, 4.508999824523926, 0.0, 4.434000015258789, 4.4770002365112305, 4.423999786376953, 4.415999889373779, 4.461999893188477, 4.460000038146973, 4.364999771118164, 4.394000053405762, 4.510000228881836, 4.481999874, 4.473999977111816, 4.4120001792907715, 4.356999874, 4.423999786376953, 4.452000141143799, 4.393000126, 4.396999835968018, 4.375, 4.320000171661377, 4.293000221252441, 4.293000221252441, 4.252999782562256, 4.2829999923706055, 4.230000019073486, 4.250999927520752, 4.293000221252441, 4.3480000495910645, 0.0, 4.394999980926514, 4.414999961853027, 4.3420000076293945, 4.3460001945495605, 4.422999858856201, 4.427000045776367, 4.488999843597412, 4.454999923706055, 4.4629998207092285, 4.432000160217285, 4.372000217437744, 4.335999965667725, 4.388000011444092, 4.4079999923706055, 4.386000156402588, 4.420000076293945, 4.329999923706055, 4.375999927520752, 4.360000133514404, 4.21999979, 4.199999809265137, 4.196000099182129, 4.21999979, 4.243999958, 4.284999847412109, 4.2729997634887695, 4.293000221252441, 4.237999916, 4.293000221252441, 4.328000068664551, 4.341000080108643, 4.302000045776367, 4.296000003814697, 4.329999923706055, 4.260000228881836, 4.275000095367432, 4.257999897003174, 4.237999916, 4.206999778747559, 4.2270002365112305, 4.2769999504089355, 4.210999965667725, 4.176000118255615, 4.085999965667725, 4.046000003814697, 4.073999881744385, 4.0320000648498535, 4.011000156402588, 4.060999870300293, 4.033999919891357, 4.026000022888184, 4.076000213623047, 4.104000091552734, 4.138999938964844, 4.143000126, 4.119999885559082, 4.146999835968018, 4.171999931335449, 4.186999797821045, 4.140999794006348, 4.1479997634887695, 4.105999946594238, 4.0879998207092285, 4.118999958, 4.1620001792907715, 4.126999855041504, 4.129000186920166, 4.1479997634887695, 4.051000118255615, 4.051000118255615, 4.021999835968018, 4.046000003814697, 3.9760000705718994, 4.006999969482422, 3.9860000610351562, 3.9630000591278076, 3.953000068664551, 3.990999937057495, 3.996999979019165, 3.996999979019165, 3.9830000400543213, 4.058000087738037, 4.0929999351501465, 4.100999832, 4.105999946594238, 4.089000225067139, 4.1570000648498535, 4.0929999351501465, 4.0929999351501465, 4.110000133514404, 4.119999885559082, 4.065000057220459, 4.111999988555908, 4.1479997634887695, 4.132999897003174, 4.123000144958496, 4.132999897003174, 4.105999946594238, 4.063000202178955, 4.038000106811523, 4.001999855041504, 3.997999906539917, 4.017000198364258, 4.0960001945495605, 4.085999965667725, 4.057000160217285, 4.107999801635742, 4.138999938964844, 4.138999938964844];
    const dxyData   = [109.38999938964844, 108.94999694824219, 108.26000213623047, 108.54000091552734, 109.08999633789062, 109.18000030517578, 109.6500015258789, 109.95999908447266, 109.2699966430664, 109.08999633789062, 108.95999908447266, 109.3499984741211, 108.05999755859375, 108.16999816894531, 108.05000305175781, 107.44000244140625, 107.33999633789062, 107.87000274658203, 108.0, 107.80000305175781, 108.37000274658203, 108.98999786376953, 107.95999908447266, 107.58000183105469, 107.69000244140625, 108.04000091552734, 108.31999969482422, 107.95999908447266, 107.94000244140625, 107.30999755859375, 106.56999969482422, 107.05000305175781, 107.16999816894531, 106.33999633789062, 106.61000061035156, 106.5999984741211, 106.30999755859375, 106.41999816894531, 107.23999786376953, 107.61000061035156, 106.75, 105.73999786376953, 105.73999786376953, 104.05999755859375, 103.83999633789062, 103.91000366210938, 103.44000244140625, 103.61000061035156, 103.83000183105469, 103.72000122070312, 103.37000274658203, 103.23999786376953, 103.43000030517578, 103.8499984741211, 104.08999633789062, 104.26000213623047, 104.18000030517578, 104.55000305175781, 104.06999969482422, 104.04000091552734, 104.20999908447266, 104.26000213623047, 103.80999755859375, 102.06999969482422, 103.0199966430664, 103.26000213623047, 102.95999908447266, 102.9000015258789, 100.87000274658203, 99.77999877929688, 99.63999938964844, 100.22000122070312, 99.37999725341797, 99.37999725341797, 98.27999877929688, 98.91999816894531, 99.83999633789062, 99.29000091552734, 99.47000122070312, 99.01000213623047, 99.23999786376953, 99.47000122070312, 100.25, 100.0, 99.83000183105469, 99.23999786376953, 99.61000061035156, 100.63999938964844, 100.33999633789062, 101.79000091552734, 101.0, 101.04000091552734, 100.87999725341797, 101.08999633789062, 100.43000030517578, 100.12000274658203, 99.55999755859375, 99.95999908447266, 99.11000061035156, 98.93000030517578, 99.51999664, 99.87999725341797, 99.27999877929688, 99.33000183105469, 98.69999694824219, 99.25, 98.79000091552734, 98.73999786376953, 99.19000244140625, 98.94000244140625, 99.05000305175781, 98.62999725341797, 97.91999816894531, 98.18000030517578, 98.0, 98.81999969482422, 98.91000366210938, 98.70999908447266, 98.41999816894531, 97.86000061035156, 97.68000030517578, 97.15000153, 97.40000153, 96.87999725341797, 96.81999969482422, 96.77999877929688, 97.18000030517578, 0.0, 97.48000336, 97.51000213623047, 97.47000122070312, 97.65000153, 97.84999847, 98.08000183105469, 98.62000274658203, 98.38999938964844, 98.73000336, 98.48000336, 97.84999847, 97.38999938964844, 97.20999908447266, 97.37999725341797, 97.65000153, 98.66000366210938, 98.91000366210938, 99.94000244140625, 100.02999877929688, 98.69000244140625, 98.77999877929688, 98.77999877929688, 98.18000030517578, 98.40000153, 98.18000030517578, 98.51999664, 98.09999847, 97.83999633789062, 98.25, 97.84999847, 98.16999816894531, 98.26999664, 98.22000122070312, 98.62000274658203, 97.72000122070312, 98.43000030517578, 98.23000336, 98.23000336, 97.80999755859375, 97.76999664, 98.40000153, 98.13999938964844, 98.34999847, 97.76999664, 97.44999694824219, 97.79000091552734, 97.77999877929688, 97.54000091552734, 97.55000305175781, 97.30000305175781, 96.62999725341797, 96.87000274658203, 97.34999847, 97.63999938964844, 97.33000183105469, 97.26000213623047, 97.87000274658203, 98.55000305175781, 98.15000153, 97.91000366210938, 97.76999664, 97.70999908447266, 97.84999847, 97.72000122070312, 98.11000061035156, 98.58000183105469, 98.84999847, 99.54000091552734, 98.98000336, 99.26999664, 99.05000305175781, 98.79000091552734, 98.38999938964844, 98.43000030517578, 98.58999633789062, 98.93000030517578, 98.90000153, 98.94000244140625, 98.94999694824219, 98.77999877929688, 98.69000244140625, 99.22000122070312, 99.52999877929688, 99.80000305175781, 99.87000274658203, 100.22000122070312, 100.19999694824219, 99.73000336, 99.59999847, 99.62000274658203, 99.45999908447266, 99.48000336, 99.18000030517578, 99.26999664, 99.58999633789062, 99.55000305175781, 100.2300033569336, 100.16000366210938, 100.18000030517578, 100.13999938964844, 99.66000366210938, 99.59999847, 99.45999908447266, 99.41000366210938, 99.36000061035156, 98.84999847, 98.98999786376953, 98.98999786376953, 28.079999923706055];
    const goldData  = [2658.899902, 2645.0, 2638.399902, 2656.699951171875, 2664.5, 2683.800048828125, 2708.5, 2673.5, 2677.5, 2712.5, 2746.399902, 2744.300048828125, 2755.0, 2767.600098, 2763.100098, 2777.300048828125, 2737.5, 2766.800048828125, 2769.100098, 2823.0, 2812.5, 2833.899902, 2853.300048828125, 2871.600098, 2856.0, 2867.300048828125, 2914.300048828125, 2912.5, 2909.0, 2925.899902, 2883.600098, 2931.600098, 2919.399902, 2940.0, 2937.600098, 2947.899902, 2904.5, 2916.800048828125, 2883.199951171875, 2836.800048828125, 2890.199951171875, 2909.600098, 2915.300048828125, 2916.600098, 2904.699951171875, 2891.0, 2912.899902, 2939.100098, 2984.300048828125, 2994.5, 3000.0, 3035.100098, 3035.899902, 3040.0, 3018.199951171875, 3013.100098, 3023.699951171875, 3020.899902, 3060.199951171875, 3086.5, 3122.800048828125, 3118.899902, 3139.899902, 3097.0, 3012.0, 2951.300048828125, 2968.399902, 3056.5, 3155.199951171875, 3222.199951171875, 3204.800048828125, 3218.699951171875, 3326.600098, 3308.699951171875, 3406.199951171875, 3400.800048828125, 3276.300048828125, 3332.0, 3282.399902, 3332.5, 3318.800048828125, 3305.0, 3210.0, 3231.899902, 3311.300048828125, 3411.399902, 3381.399902, 3296.600098, 3335.399902, 3220.0, 3240.300048828125, 3181.399902, 3220.699951171875, 3182.0, 3228.899902, 3280.300048828125, 3309.300048828125, 3292.300048828125, 3363.600098, 0.0, 3299.100098, 3293.600098, 3317.100098, 3288.899902, 3370.600098, 3350.199951171875, 3373.5, 3350.699951171875, 3322.699951171875, 3332.100098, 3320.899902, 3321.300048828125, 3380.899902, 3431.199951171875, 3396.399902, 3386.600098, 3389.800048828125, 3368.100098, 3377.699951171875, 3317.399902, 3327.100098, 3333.5, 3273.699951171875, 3294.399902, 3336.699951171875, 3348.0, 3331.600098, 3332.5, 3332.199951171875, 3307.0, 3311.600098, 3317.399902, 3356.0, 3351.5, 3329.800048828125, 3352.5, 3340.100098, 3353.0, 3401.899902, 3439.199951171875, 3394.100098, 3371.0, 3334.0, 3309.100098, 3323.399902, 3295.800048828125, 3293.199951171875, 3347.699951171875, 3374.399902, 3381.899902, 3380.0, 3400.300048828125, 3439.100098, 3353.100098, 3348.899902, 3358.699951171875, 3335.199951171875, 3336.0, 3331.699951171875, 3313.399902, 3343.399902, 3336.899902, 3374.399902, 3373.800048828125, 3388.600098, 3404.600098, 3431.800048828125, 3473.699951171875, 3549.399902, 3593.199951171875, 3565.800048828125, 3613.199951171875, 3638.100098, 3643.300048828125, 3643.600098, 3636.899902, 3649.399902, 3682.199951171875, 3688.899902, 3681.800048828125, 3643.699951171875, 3671.5, 3740.699951171875, 3780.600098, 3732.100098, 3736.899902, 3775.300048828125, 3820.899902, 3840.800048828125, 3867.5, 3839.699951171875, 3880.800048828125, 3948.5, 3976.600098, 4043.300048828125, 3946.300048828125, 3975.899902, 4108.600098, 4138.700195, 4176.899902, 4280.200195, 4189.899902, 4336.399902, 4087.699951171875, 4044.399902, 4125.5, 4118.399902, 4001.899902, 3966.199951171875, 3983.699951171875, 4001.300048828125, 3982.199951171875, 4000.300048828125, 3947.699951171875, 3980.300048828125, 3979.899902, 3999.399902, 4111.799805, 4106.799805, 4204.399902, 4186.899902, 4087.600098, 4068.300048828125, 4061.300048828125, 4077.699951171875, 4056.5, 4076.699951171875, 4091.899902, 4139.200195, 4165.200195, 4218.299805, 4239.299805, 4186.600098, 4199.299805, 4211.799805, 4212.899902, 4212.89990234375];
    const ustData   = [108.8125, 108.640625, 108.53125, 108.171875, 108.140625, 108.21875, 107.390625, 107.234375, 107.359375, 108.328125, 108.609375, 108.546875, 108.734375, 108.5625, 108.375, 108.46875, 109.15625, 109.03125, 108.953125, 109.234375, 108.84375, 108.953125, 109.203125, 109.75, 109.578125, 109.234375, 109.21875, 108.953125, 108.265625, 108.96875, 109.3125, 108.84375, 108.953125, 109.171875, 109.6875, 109.875, 110.515625, 110.84375, 110.609375, 111.0625, 111.375, 111.21875, 110.84375, 110.78125, 110.546875, 111.28125, 110.8125, 110.625, 110.90625, 110.625, 110.59375, 110.78125, 110.984375, 111.15625, 111.09375, 110.546875, 110.75, 110.5625, 110.421875, 111.203125, 111.21875, 111.78125, 111.5, 112.640625, 113.046875, 112.0625, 111.46875, 110.328125, 110.59375, 109.734375, 110.75, 111.078125, 111.421875, 111.171875, 110.8125, 110.796875, 110.65625, 111.21875, 111.515625, 111.90625, 112.15625, 112.21875, 111.859375, 111.15625, 111.0625, 111.3125, 111.546875, 110.796875, 110.8125, 110.15625, 109.96875, 109.71875, 110.25, 110.328125, 110.140625, 110.203125, 109.5, 109.828125, 110.078125, 0.0, 110.515625, 110.21875, 110.640625, 110.71875, 110.46875, 110.453125, 111.09375, 110.78125, 109.9375, 110.171875, 110.21875, 110.6875, 111.046875, 110.625, 110.5, 110.84375, 111.0625, 110.984375, 111.453125, 111.65625, 111.6875, 112.015625, 111.8125, 112.125, 111.859375, 111.625, 111.21875, 111.359375, 110.921875, 110.78125, 111.265625, 111.21875, 110.71875, 110.765625, 110.28125, 110.625, 110.515625, 110.78125, 111.1875, 111.40625, 111.015625, 110.828125, 110.984375, 110.765625, 111.359375, 111.0, 111.0625, 112.203125, 112.375, 112.296875, 112.234375, 112.09375, 111.828125, 111.890625, 111.8125, 112.171875, 111.796875, 111.59375, 111.515625, 111.765625, 111.859375, 111.546875, 112.140625, 111.96875, 112.203125, 112.40625, 112.53125, 112.453125, 112.140625, 112.59375, 112.828125, 113.359375, 113.5, 113.3125, 113.515625, 113.59375, 113.25, 113.40625, 113.515625, 113.09375, 112.96875, 112.828125, 112.703125, 112.875, 112.640625, 112.328125, 112.265625, 112.515625, 112.5, 112.84375, 112.921875, 112.671875, 112.390625, 112.671875, 112.609375, 112.484375, 113.140625, 113.15625, 113.40625, 113.234375, 113.75, 113.46875, 113.59375, 113.75, 113.796875, 113.484375, 113.4375, 113.421875, 113.46875, 112.90625, 112.703125, 112.671875, 112.671875, 112.78125, 112.328125, 112.828125, 112.859375, 112.6875, 113.03125, 113.0, 112.765625, 112.53125, 112.640625, 112.78125, 112.6875, 112.875, 113.25, 113.375, 113.640625, 113.625, 113.421875, 112.9375, 113.0, 113.21875, 112.84375, 112.640625, 112.515625];

    function makeLineChart(canvasId, label, dataArray, color) {
      const el = document.getElementById(canvasId);
      if (!el) return;
      const ctx = el.getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: indLabels,
          datasets: [{
            label: label,
            data: dataArray,
            borderColor: color,
            backgroundColor: color,
            borderWidth: 2,
            tension: 0.2,
            pointRadius: 1.5,
            fill: false
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          interaction: { mode: 'index', intersect: false },
          plugins: {
            legend: { display: false },
            tooltip: {
              mode: 'index',
              intersect: false
            }
          },
          scales: {
            x: {
              ticks: {
                maxRotation: 45,
                minRotation: 45,
                autoSkip: true,
                maxTicksLimit: 6
              }
            },
            y: {
              beginAtZero: false
            }
          }
        }
      });
    }

    if (indLabels && indLabels.length > 0) {
      makeLineChart('vixChart',   'VIX (pt)',             vixData,   '#3498db');
      makeLineChart('us10yChart', 'US10Y (%)',            us10yData, '#e74c3c');
      makeLineChart('dxyChart',   'DXY (pt)',             dxyData,   '#f39c12');
      makeLineChart('goldChart',  'Gold (USD)',           goldData,  '#f1c40f');
      makeLineChart('ustChart',   'UST 10Y Futures (pt)', ustData,   '#1abc9c');
    }
  </script>

</body>
</html>
